
{% extends 'base.html' %}
{% load humanize %}


{% block home %}

{% if user.is_superuser %}
    
    <main class="w-full">

        <div class="bg-slate-200 py-1 px-2 w-[300px] text-gray-600 text-sm rounded-sm">Stock Overview from 1-jan-2023 to 
            <span class="text-red-500">Date</span>
        </div>

        <h1 class="my-2 text-gray-800 text-[32px] font-bold">Welcome back</h1>

        <div class="grid gap-6 mb-8 md:grid-cols-3 xl:grid-cols-3 my-5">
            
            <div class="h-[100px] rounded-[12px] bg-white border-l-[4px] border-blue-500 flex items-center justify-between px-[30px] cursor-pointer hover:shadow-lg transform hover:scale-[103%] transition duration-300 ease-out shadow-lg">
                <div>
                    <h2 class='text-blue-500 text-[14px] leading-[20px] font-bold'>Total company</h2>
                    <h1 class='text-[#5a5c69] text-[24px] leading-[30px] mt-[10px] font-bold'>{{companys.count}}</h1>
                </div>
                <div class="ml-5 text-blue-700">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" class="icon" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" clip-rule="evenodd" viewBox="0 0 64 64" id="customers-rating"><path d="M59,43l-46,-0c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1l46,-0l-0,1.944c-0,0.586 -0.483,1.056 -1.074,1.056c-0,-0 -51.852,0 -51.852,0c-0.591,-0 -1.074,-0.47 -1.074,-1.055l0,-1.945l4,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-4,0l-0,-21.75c-0,-0.552 -0.448,-1 -1,-1c-0.552,-0 -1,0.448 -1,1l0,25.694c0,1.686 1.374,3.056 3.074,3.056l19.926,0l0,9l-5,0c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1l22,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-5,0l0,-9l19.926,-0c1.7,-0 3.074,-1.37 3.074,-3.056l0,-34.944c0,-0.552 -0.448,-1 -1,-1l-4,-0c-0.552,-0 -1,0.448 -1,1c-0,0.552 0.448,1 1,1l3,-0l0,30Zm-23,16l-0,-9l-8,0l-0,9l8,0Zm-21.163,-30.69c-0.168,-0.342 -0.516,-0.558 -0.896,-0.558c-0.381,0 -0.729,0.216 -0.897,0.558l-0.985,1.996c-0,-0 -2.203,0.32 -2.203,0.32c-0.376,0.054 -0.689,0.318 -0.807,0.68c-0.118,0.362 -0.02,0.76 0.253,1.025l1.594,1.554c-0,0 -0.376,2.194 -0.376,2.194c-0.065,0.375 0.089,0.754 0.397,0.978c0.308,0.224 0.717,0.253 1.054,0.076l1.97,-1.036c-0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.745,0.148 1.053,-0.076c0.308,-0.224 0.462,-0.603 0.398,-0.978l-0.376,-2.194c-0,0 1.593,-1.554 1.593,-1.554c0.273,-0.265 0.371,-0.663 0.254,-1.025c-0.118,-0.362 -0.431,-0.626 -0.808,-0.68l-2.202,-0.32c-0,-0 -0.986,-1.996 -0.986,-1.996Zm11.882,-0c-0.169,-0.342 -0.516,-0.558 -0.897,-0.558c-0.38,0 -0.728,0.216 -0.897,0.558l-0.985,1.996c0,-0 -2.202,0.32 -2.202,0.32c-0.377,0.054 -0.69,0.318 -0.808,0.68c-0.117,0.362 -0.019,0.76 0.253,1.025l1.594,1.554c0,0 -0.376,2.194 -0.376,2.194c-0.064,0.375 0.09,0.754 0.398,0.978c0.308,0.224 0.716,0.253 1.053,0.076l1.97,-1.036c0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.746,0.148 1.054,-0.076c0.307,-0.224 0.462,-0.603 0.397,-0.978l-0.376,-2.194c0,0 1.594,-1.554 1.594,-1.554c0.273,-0.265 0.371,-0.663 0.253,-1.025c-0.118,-0.362 -0.431,-0.626 -0.807,-0.68l-2.203,-0.32c0,-0 -0.985,-1.996 -0.985,-1.996Zm12.118,-0c-0.168,-0.342 -0.516,-0.558 -0.896,-0.558c-0.381,0 -0.729,0.216 -0.897,0.558l-0.985,1.996c-0,-0 -2.203,0.32 -2.203,0.32c-0.376,0.054 -0.689,0.318 -0.807,0.68c-0.118,0.362 -0.02,0.76 0.253,1.025l1.594,1.554c-0,0 -0.376,2.194 -0.376,2.194c-0.065,0.375 0.089,0.754 0.397,0.978c0.308,0.224 0.717,0.253 1.054,0.076l1.97,-1.036c-0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.745,0.148 1.053,-0.076c0.308,-0.224 0.462,-0.603 0.398,-0.978l-0.376,-2.194c-0,0 1.593,-1.554 1.593,-1.554c0.273,-0.265 0.371,-0.663 0.254,-1.025c-0.118,-0.362 -0.431,-0.626 -0.808,-0.68l-2.202,-0.32c-0,-0 -0.986,-1.996 -0.986,-1.996Zm11.882,-0c-0.169,-0.342 -0.516,-0.558 -0.897,-0.558c-0.38,0 -0.728,0.216 -0.897,0.558l-0.985,1.996c0,-0 -2.202,0.32 -2.202,0.32c-0.377,0.054 -0.69,0.318 -0.808,0.68c-0.117,0.362 -0.019,0.76 0.253,1.025l1.594,1.554c0,0 -0.376,2.194 -0.376,2.194c-0.064,0.375 0.09,0.754 0.398,0.978c0.308,0.224 0.716,0.253 1.053,0.076l1.97,-1.036c0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.746,0.148 1.054,-0.076c0.307,-0.224 0.462,-0.603 0.397,-0.978l-0.376,-2.194c0,0 1.594,-1.554 1.594,-1.554c0.273,-0.265 0.371,-0.663 0.253,-1.025c-0.118,-0.362 -0.431,-0.626 -0.807,-0.68l-2.203,-0.32c0,-0 -0.985,-1.996 -0.985,-1.996Zm-0.897,2.702l0.321,0.65c0.146,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.519,0.507 -0.519,0.507c-0.236,0.23 -0.344,0.561 -0.288,0.885l0.123,0.715c-0,-0 -0.642,-0.338 -0.642,-0.338c-0.292,-0.153 -0.64,-0.153 -0.931,0l-0.642,0.338c-0,-0 0.122,-0.715 0.122,-0.715c0.056,-0.324 -0.051,-0.655 -0.287,-0.885l-0.52,-0.507c0,0 0.718,-0.104 0.718,-0.104c0.326,-0.047 0.608,-0.252 0.753,-0.547l0.321,-0.65Zm-24,-0l0.321,0.65c0.146,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.519,0.507 -0.519,0.507c-0.236,0.23 -0.344,0.561 -0.288,0.885l0.123,0.715c-0,-0 -0.642,-0.338 -0.642,-0.338c-0.292,-0.153 -0.64,-0.153 -0.931,0l-0.642,0.338c-0,-0 0.122,-0.715 0.122,-0.715c0.056,-0.324 -0.051,-0.655 -0.287,-0.885l-0.52,-0.507c0,0 0.718,-0.104 0.718,-0.104c0.326,-0.047 0.608,-0.252 0.753,-0.547l0.321,-0.65Zm-11.881,-0l0.321,0.65c0.145,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.52,0.507 -0.52,0.507c-0.236,0.23 -0.343,0.561 -0.287,0.885l0.122,0.715c0,-0 -0.642,-0.338 -0.642,-0.338c-0.291,-0.153 -0.639,-0.153 -0.931,0l-0.642,0.338c0,-0 0.123,-0.715 0.123,-0.715c0.056,-0.324 -0.052,-0.655 -0.288,-0.885l-0.519,-0.507c-0,0 0.718,-0.104 0.718,-0.104c0.325,-0.047 0.607,-0.252 0.753,-0.547l0.321,-0.65Zm24,-0l0.321,0.65c0.145,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.52,0.507 -0.52,0.507c-0.236,0.23 -0.343,0.561 -0.287,0.885l0.122,0.715c0,-0 -0.642,-0.338 -0.642,-0.338c-0.291,-0.153 -0.639,-0.153 -0.931,0l-0.642,0.338c0,-0 0.123,-0.715 0.123,-0.715c0.056,-0.324 -0.052,-0.655 -0.288,-0.885l-0.519,-0.507c-0,0 0.718,-0.104 0.718,-0.104c0.325,-0.047 0.607,-0.252 0.753,-0.547l0.321,-0.65Zm-28.046,-20.012l-5.895,-0c-0.552,0 -1,0.448 -1,1l-0,5.139c-0,0.552 0.448,1 1,1c0.552,-0 1,-0.448 1,-1l-0,-4.139l4.895,-0l-0,3.632c-0,1.715 1.39,3.105 3.105,3.105l8.217,-0c-0,-0 1.995,4.657 1.995,4.657c0.161,0.375 0.534,0.615 0.943,0.606c0.408,-0.01 0.77,-0.266 0.913,-0.649l1.73,-4.614l4.097,-0c1.715,-0 3.105,-1.39 3.105,-3.105l-0,-10.527c-0,-1.715 -1.39,-3.105 -3.105,-3.105l-17.895,0c-1.715,0 -3.105,1.39 -3.105,3.105l-0,4.895Zm30.964,2.903c-0.805,0.347 -1.545,0.846 -2.177,1.478c-1.313,1.312 -2.05,3.093 -2.05,4.949c-0,1.236 -0,2.17 -0,2.17c-0,0.552 0.447,1 1,1l13.368,0c0.552,0 1,-0.448 1,-1l-0,-2.17c0,-1.856 -0.737,-3.637 -2.05,-4.949c-0.632,-0.632 -1.372,-1.131 -2.177,-1.478c1.538,-1.087 2.543,-2.878 2.543,-4.903c-0,-3.311 -2.689,-6 -6,-6c-3.312,0 -6,2.689 -6,6c-0,2.025 1.005,3.816 2.543,4.903Zm9.141,6.427l-0,1.17c0,-0 -11.368,0 -11.368,0c-0,0 -0,-1.17 -0,-1.17c-0,-1.326 0.526,-2.597 1.464,-3.535c0.938,-0.938 2.21,-1.465 3.536,-1.465c0.454,0 0.913,0 1.368,0c1.326,0 2.598,0.527 3.536,1.465c0.937,0.938 1.464,2.209 1.464,3.535Zm-22.452,-2.593l3.347,-0c0.61,-0 1.105,-0.495 1.105,-1.105c-0,-0 -0,-10.527 -0,-10.527c-0,-0.61 -0.495,-1.105 -1.105,-1.105c-0,0 -17.895,0 -17.895,0c-0.61,0 -1.105,0.495 -1.105,1.105c-0,0 -0,10.527 -0,10.527c-0,0.61 0.495,1.105 1.105,1.105l8.876,-0c0.4,-0 0.762,0.238 0.919,0.606c0,-0 1.275,2.974 1.275,2.974l2.283,-6.089c0.194,-0.517 0.771,-0.779 1.288,-0.585c0.516,0.193 0.779,0.77 0.585,1.287l-0.678,1.807Zm-4.671,-11.214c-0.176,-0.32 -0.512,-0.519 -0.877,-0.519c-0.365,0 -0.701,0.199 -0.877,0.519l-1.069,1.947c0,-0 -2.182,0.415 -2.182,0.415c-0.358,0.068 -0.651,0.326 -0.764,0.673c-0.113,0.347 -0.027,0.728 0.223,0.994l1.521,1.619c0,-0 -0.28,2.203 -0.28,2.203c-0.045,0.362 0.109,0.721 0.405,0.935c0.295,0.215 0.684,0.251 1.014,0.096l2.009,-0.947c0,-0 2.009,0.947 2.009,0.947c0.33,0.155 0.719,0.119 1.014,-0.096c0.296,-0.214 0.45,-0.573 0.405,-0.935l-0.28,-2.203c0,-0 1.521,-1.619 1.521,-1.619c0.25,-0.266 0.336,-0.647 0.223,-0.994c-0.113,-0.347 -0.406,-0.605 -0.764,-0.673l-2.182,-0.415c-0,-0 -1.069,-1.947 -1.069,-1.947Zm21.439,-1.523c2.208,0 4,1.792 4,4c-0,2.208 -1.792,4 -4,4c-2.208,0 -4,-1.792 -4,-4c-0,-2.208 1.792,-4 4,-4Zm-22.316,4.082l0.419,0.764c0.144,0.261 0.397,0.445 0.69,0.501l0.856,0.162c-0,0 -0.597,0.635 -0.597,0.635c-0.204,0.218 -0.301,0.515 -0.263,0.811l0.109,0.864c0,0 -0.788,-0.371 -0.788,-0.371c-0.27,-0.127 -0.582,-0.127 -0.852,-0l-0.788,0.371c-0,0 0.109,-0.864 0.109,-0.864c0.038,-0.296 -0.059,-0.593 -0.263,-0.811l-0.597,-0.635c0,0 0.856,-0.162 0.856,-0.162c0.293,-0.056 0.546,-0.24 0.69,-0.501l0.419,-0.764Z"></path></svg>
                </div>
            </div>
           
           
            <div class="h-[100px] rounded-[12px] bg-white border-l-[4px] border-[#8589DF] flex items-center justify-between px-[30px] cursor-pointer hover:shadow-lg transform hover:scale-[103%] transition duration-300 ease-out shadow-lg">
                <div>
                    <h2 class='text-[#8589DF] text-[14px] leading-[20px] font-bold'>Total Users</h2>
                    <h1 class='text-[#5a5c69] text-[24px] leading-[30px] mt-[10px] font-bold'>{{users.count}}</h1>
                </div>
                <div class="ml-5 text-blue-700">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" class="icon" viewBox="0 0 1024 1024" id="business-stock"><path d="M921.6 2.048H102.4C45.875 2.048 0 47.923 0 104.448v573.44c0 56.525 45.875 102.4 102.4 102.4h122.88c10.65 0 19.866-5.325 25.395-13.517 1.843-1.638 3.687-3.686 5.12-5.939l169.37-252.109 21.913 111.207c2.458 12.288 11.879 21.708 24.167 24.166 12.083 2.458 24.576-2.662 31.539-12.902l211.354-314.778 4.71 84.787c.82 16.384 14.54 29.082 30.72 29.082h1.843c16.999-1.024 29.901-15.36 28.877-32.359l-10.24-182.272c-.614-10.24-6.144-19.456-14.95-24.78-8.807-5.12-19.661-5.735-28.877-1.23l-176.128 83.969c-15.36 7.373-21.914 25.6-14.541 40.96 7.373 15.36 25.6 21.709 40.96 14.54l81.306-38.707-164.66 245.146-21.913-111.206c-2.458-12.288-11.879-21.71-24.167-24.167-12.288-2.457-24.576 2.663-31.539 12.903L210.125 718.848H102.4c-22.528 0-40.96-18.432-40.96-40.96v-573.44c0-22.528 18.432-40.96 40.96-40.96h819.2c22.528 0 40.96 18.432 40.96 40.96v573.44c0 22.528-18.432 40.96-40.96 40.96H512c-16.998 0-30.72 13.722-30.72 30.72 0 .82 0 1.638.205 2.662 0 .82-.205 1.639-.205 2.663V962.56H102.4c-16.998 0-30.72 13.722-30.72 30.72S85.402 1024 102.4 1024h819.2c16.998 0 30.72-13.722 30.72-30.72s-13.722-30.72-30.72-30.72H542.72V780.288H921.6c56.525 0 102.4-45.875 102.4-102.4v-573.44c0-56.525-45.875-102.4-102.4-102.4z"></path></svg>
                </div>
            </div>
     
        
            <div class="h-[100px] rounded-[12px] bg-white border-l-[4px] border-blue-500 flex items-center justify-between px-[30px] cursor-pointer hover:shadow-lg transform hover:scale-[103%] transition duration-300 ease-out shadow-lg">
                <div>
                    <h2 class='text-blue-500 text-[14px] leading-[20px] font-bold'>Sales</h2>
                    <h1 class='text-[#5a5c69] text-[24px] leading-[30px] mt-[10px] font-bold'>{{sales.count}}</h1>
                </div>
                <div class="ml-5 text-blue-700">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" class="icon" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" clip-rule="evenodd" viewBox="0 0 64 64" id="customers-rating"><path d="M59,43l-46,-0c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1l46,-0l-0,1.944c-0,0.586 -0.483,1.056 -1.074,1.056c-0,-0 -51.852,0 -51.852,0c-0.591,-0 -1.074,-0.47 -1.074,-1.055l0,-1.945l4,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-4,0l-0,-21.75c-0,-0.552 -0.448,-1 -1,-1c-0.552,-0 -1,0.448 -1,1l0,25.694c0,1.686 1.374,3.056 3.074,3.056l19.926,0l0,9l-5,0c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1l22,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-5,0l0,-9l19.926,-0c1.7,-0 3.074,-1.37 3.074,-3.056l0,-34.944c0,-0.552 -0.448,-1 -1,-1l-4,-0c-0.552,-0 -1,0.448 -1,1c-0,0.552 0.448,1 1,1l3,-0l0,30Zm-23,16l-0,-9l-8,0l-0,9l8,0Zm-21.163,-30.69c-0.168,-0.342 -0.516,-0.558 -0.896,-0.558c-0.381,0 -0.729,0.216 -0.897,0.558l-0.985,1.996c-0,-0 -2.203,0.32 -2.203,0.32c-0.376,0.054 -0.689,0.318 -0.807,0.68c-0.118,0.362 -0.02,0.76 0.253,1.025l1.594,1.554c-0,0 -0.376,2.194 -0.376,2.194c-0.065,0.375 0.089,0.754 0.397,0.978c0.308,0.224 0.717,0.253 1.054,0.076l1.97,-1.036c-0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.745,0.148 1.053,-0.076c0.308,-0.224 0.462,-0.603 0.398,-0.978l-0.376,-2.194c-0,0 1.593,-1.554 1.593,-1.554c0.273,-0.265 0.371,-0.663 0.254,-1.025c-0.118,-0.362 -0.431,-0.626 -0.808,-0.68l-2.202,-0.32c-0,-0 -0.986,-1.996 -0.986,-1.996Zm11.882,-0c-0.169,-0.342 -0.516,-0.558 -0.897,-0.558c-0.38,0 -0.728,0.216 -0.897,0.558l-0.985,1.996c0,-0 -2.202,0.32 -2.202,0.32c-0.377,0.054 -0.69,0.318 -0.808,0.68c-0.117,0.362 -0.019,0.76 0.253,1.025l1.594,1.554c0,0 -0.376,2.194 -0.376,2.194c-0.064,0.375 0.09,0.754 0.398,0.978c0.308,0.224 0.716,0.253 1.053,0.076l1.97,-1.036c0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.746,0.148 1.054,-0.076c0.307,-0.224 0.462,-0.603 0.397,-0.978l-0.376,-2.194c0,0 1.594,-1.554 1.594,-1.554c0.273,-0.265 0.371,-0.663 0.253,-1.025c-0.118,-0.362 -0.431,-0.626 -0.807,-0.68l-2.203,-0.32c0,-0 -0.985,-1.996 -0.985,-1.996Zm12.118,-0c-0.168,-0.342 -0.516,-0.558 -0.896,-0.558c-0.381,0 -0.729,0.216 -0.897,0.558l-0.985,1.996c-0,-0 -2.203,0.32 -2.203,0.32c-0.376,0.054 -0.689,0.318 -0.807,0.68c-0.118,0.362 -0.02,0.76 0.253,1.025l1.594,1.554c-0,0 -0.376,2.194 -0.376,2.194c-0.065,0.375 0.089,0.754 0.397,0.978c0.308,0.224 0.717,0.253 1.054,0.076l1.97,-1.036c-0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.745,0.148 1.053,-0.076c0.308,-0.224 0.462,-0.603 0.398,-0.978l-0.376,-2.194c-0,0 1.593,-1.554 1.593,-1.554c0.273,-0.265 0.371,-0.663 0.254,-1.025c-0.118,-0.362 -0.431,-0.626 -0.808,-0.68l-2.202,-0.32c-0,-0 -0.986,-1.996 -0.986,-1.996Zm11.882,-0c-0.169,-0.342 -0.516,-0.558 -0.897,-0.558c-0.38,0 -0.728,0.216 -0.897,0.558l-0.985,1.996c0,-0 -2.202,0.32 -2.202,0.32c-0.377,0.054 -0.69,0.318 -0.808,0.68c-0.117,0.362 -0.019,0.76 0.253,1.025l1.594,1.554c0,0 -0.376,2.194 -0.376,2.194c-0.064,0.375 0.09,0.754 0.398,0.978c0.308,0.224 0.716,0.253 1.053,0.076l1.97,-1.036c0,0 1.97,1.036 1.97,1.036c0.337,0.177 0.746,0.148 1.054,-0.076c0.307,-0.224 0.462,-0.603 0.397,-0.978l-0.376,-2.194c0,0 1.594,-1.554 1.594,-1.554c0.273,-0.265 0.371,-0.663 0.253,-1.025c-0.118,-0.362 -0.431,-0.626 -0.807,-0.68l-2.203,-0.32c0,-0 -0.985,-1.996 -0.985,-1.996Zm-0.897,2.702l0.321,0.65c0.146,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.519,0.507 -0.519,0.507c-0.236,0.23 -0.344,0.561 -0.288,0.885l0.123,0.715c-0,-0 -0.642,-0.338 -0.642,-0.338c-0.292,-0.153 -0.64,-0.153 -0.931,0l-0.642,0.338c-0,-0 0.122,-0.715 0.122,-0.715c0.056,-0.324 -0.051,-0.655 -0.287,-0.885l-0.52,-0.507c0,0 0.718,-0.104 0.718,-0.104c0.326,-0.047 0.608,-0.252 0.753,-0.547l0.321,-0.65Zm-24,-0l0.321,0.65c0.146,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.519,0.507 -0.519,0.507c-0.236,0.23 -0.344,0.561 -0.288,0.885l0.123,0.715c-0,-0 -0.642,-0.338 -0.642,-0.338c-0.292,-0.153 -0.64,-0.153 -0.931,0l-0.642,0.338c-0,-0 0.122,-0.715 0.122,-0.715c0.056,-0.324 -0.051,-0.655 -0.287,-0.885l-0.52,-0.507c0,0 0.718,-0.104 0.718,-0.104c0.326,-0.047 0.608,-0.252 0.753,-0.547l0.321,-0.65Zm-11.881,-0l0.321,0.65c0.145,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.52,0.507 -0.52,0.507c-0.236,0.23 -0.343,0.561 -0.287,0.885l0.122,0.715c0,-0 -0.642,-0.338 -0.642,-0.338c-0.291,-0.153 -0.639,-0.153 -0.931,0l-0.642,0.338c0,-0 0.123,-0.715 0.123,-0.715c0.056,-0.324 -0.052,-0.655 -0.288,-0.885l-0.519,-0.507c-0,0 0.718,-0.104 0.718,-0.104c0.325,-0.047 0.607,-0.252 0.753,-0.547l0.321,-0.65Zm24,-0l0.321,0.65c0.145,0.295 0.427,0.5 0.753,0.547l0.718,0.104c-0,0 -0.52,0.507 -0.52,0.507c-0.236,0.23 -0.343,0.561 -0.287,0.885l0.122,0.715c0,-0 -0.642,-0.338 -0.642,-0.338c-0.291,-0.153 -0.639,-0.153 -0.931,0l-0.642,0.338c0,-0 0.123,-0.715 0.123,-0.715c0.056,-0.324 -0.052,-0.655 -0.288,-0.885l-0.519,-0.507c-0,0 0.718,-0.104 0.718,-0.104c0.325,-0.047 0.607,-0.252 0.753,-0.547l0.321,-0.65Zm-28.046,-20.012l-5.895,-0c-0.552,0 -1,0.448 -1,1l-0,5.139c-0,0.552 0.448,1 1,1c0.552,-0 1,-0.448 1,-1l-0,-4.139l4.895,-0l-0,3.632c-0,1.715 1.39,3.105 3.105,3.105l8.217,-0c-0,-0 1.995,4.657 1.995,4.657c0.161,0.375 0.534,0.615 0.943,0.606c0.408,-0.01 0.77,-0.266 0.913,-0.649l1.73,-4.614l4.097,-0c1.715,-0 3.105,-1.39 3.105,-3.105l-0,-10.527c-0,-1.715 -1.39,-3.105 -3.105,-3.105l-17.895,0c-1.715,0 -3.105,1.39 -3.105,3.105l-0,4.895Zm30.964,2.903c-0.805,0.347 -1.545,0.846 -2.177,1.478c-1.313,1.312 -2.05,3.093 -2.05,4.949c-0,1.236 -0,2.17 -0,2.17c-0,0.552 0.447,1 1,1l13.368,0c0.552,0 1,-0.448 1,-1l-0,-2.17c0,-1.856 -0.737,-3.637 -2.05,-4.949c-0.632,-0.632 -1.372,-1.131 -2.177,-1.478c1.538,-1.087 2.543,-2.878 2.543,-4.903c-0,-3.311 -2.689,-6 -6,-6c-3.312,0 -6,2.689 -6,6c-0,2.025 1.005,3.816 2.543,4.903Zm9.141,6.427l-0,1.17c0,-0 -11.368,0 -11.368,0c-0,0 -0,-1.17 -0,-1.17c-0,-1.326 0.526,-2.597 1.464,-3.535c0.938,-0.938 2.21,-1.465 3.536,-1.465c0.454,0 0.913,0 1.368,0c1.326,0 2.598,0.527 3.536,1.465c0.937,0.938 1.464,2.209 1.464,3.535Zm-22.452,-2.593l3.347,-0c0.61,-0 1.105,-0.495 1.105,-1.105c-0,-0 -0,-10.527 -0,-10.527c-0,-0.61 -0.495,-1.105 -1.105,-1.105c-0,0 -17.895,0 -17.895,0c-0.61,0 -1.105,0.495 -1.105,1.105c-0,0 -0,10.527 -0,10.527c-0,0.61 0.495,1.105 1.105,1.105l8.876,-0c0.4,-0 0.762,0.238 0.919,0.606c0,-0 1.275,2.974 1.275,2.974l2.283,-6.089c0.194,-0.517 0.771,-0.779 1.288,-0.585c0.516,0.193 0.779,0.77 0.585,1.287l-0.678,1.807Zm-4.671,-11.214c-0.176,-0.32 -0.512,-0.519 -0.877,-0.519c-0.365,0 -0.701,0.199 -0.877,0.519l-1.069,1.947c0,-0 -2.182,0.415 -2.182,0.415c-0.358,0.068 -0.651,0.326 -0.764,0.673c-0.113,0.347 -0.027,0.728 0.223,0.994l1.521,1.619c0,-0 -0.28,2.203 -0.28,2.203c-0.045,0.362 0.109,0.721 0.405,0.935c0.295,0.215 0.684,0.251 1.014,0.096l2.009,-0.947c0,-0 2.009,0.947 2.009,0.947c0.33,0.155 0.719,0.119 1.014,-0.096c0.296,-0.214 0.45,-0.573 0.405,-0.935l-0.28,-2.203c0,-0 1.521,-1.619 1.521,-1.619c0.25,-0.266 0.336,-0.647 0.223,-0.994c-0.113,-0.347 -0.406,-0.605 -0.764,-0.673l-2.182,-0.415c-0,-0 -1.069,-1.947 -1.069,-1.947Zm21.439,-1.523c2.208,0 4,1.792 4,4c-0,2.208 -1.792,4 -4,4c-2.208,0 -4,-1.792 -4,-4c-0,-2.208 1.792,-4 4,-4Zm-22.316,4.082l0.419,0.764c0.144,0.261 0.397,0.445 0.69,0.501l0.856,0.162c-0,0 -0.597,0.635 -0.597,0.635c-0.204,0.218 -0.301,0.515 -0.263,0.811l0.109,0.864c0,0 -0.788,-0.371 -0.788,-0.371c-0.27,-0.127 -0.582,-0.127 -0.852,-0l-0.788,0.371c-0,0 0.109,-0.864 0.109,-0.864c0.038,-0.296 -0.059,-0.593 -0.263,-0.811l-0.597,-0.635c0,0 0.856,-0.162 0.856,-0.162c0.293,-0.056 0.546,-0.24 0.69,-0.501l0.419,-0.764Z"></path></svg>
                </div>
            </div>
          
    
            
            
            
        </div>
        
    </main>

    <div class="flex justify-between items-center">
        <h4 class="mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300">
            Registered companies
        </h4>
        <input 
            type="text"
            class="block w-80 px-2 mt-1 text-sm border-2 rounded-md focus:border-slate-300 focus:outline-none focus:shadow-outline-green text-slate-600 form-input "
            placeholder="Search company"
            name="phone"
            id="search"
        />

    </div>
    

    <div class="flex flex-wrap  justify-between gap- my-2 w-full">
      
        <div class="w-full  md:pr-3 rounded-lg shadow-xs ...">
            <div class="w-full overflow-x-auto">
                <table class="w-full whitespace-no-wrap" id="data-table">
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b bg-gray-50">
                            <th class="px-4 py-3">SN</th>
                            <th class="px-4 py-3">Company Name</th>
                            <th class="px-4 py-3">Company Email</th>
                            <th class="px-4 py-3">Phone</th>
                            <th class="px-4 py-3">Action</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                         {% for company in companys %}
                            <tr class="text-gray-700">
                                <td class="px-4 py-3">
                                 {{ forloop.counter }}
                                </td>
                                <td class="px-4 py-3 text-sm">
                                {{company.company_name}}
                                </td>
                                <td class="px-4 py-3 text-sm">
                                {{company.email}}
                                </td>
                                <td class="px-4 py-3 text-sm">
                                     {{company.phone}}
                                </td>
                              
                                <td class="px-4 py-3 text-sm">
                                    <a                        
                                    href="{% url 'main:ManageCompany' company.id %}"
                                    class="bg-[#356464] text-center text-white  inline-flex items-center justify-end shrink-0 font-semibold leading-none rounded outline-none transition duration-300 ease-in-out focus:outline-0 focus:shadow focus:ring-1 focus:ring-slate-500  border border-transparent hover:bg-blue-300-hover px-5 py-0 h-8">
                                     Manage
                                </a>
                                </td>
                            </tr>
                         {% endfor %}
                    </tbody>
                </table>
            </div>
            
        </div>

      
    </div>
{% else %}
<div class="flex justify-center items-center h-screen m-auto">
    <div class="text-center text-gray-300 text-lg">
        <p>Opp</p>
        <p>You are not allowed to view this page</p>
    </div>
</div>
{% endif %}


<script>
    $("#search").on('keyup', () =>{
        const value = $('#search').val()
           
        if(value){
            $.ajax({
                url: '{% url "main:GetCompany" %}',
                method: 'GET',
                data: {value:value},
                success: function(response) {
                    if(response.data && response.data.length > 0){
                        
                        const table = $('#data-table tbody')
                        table.empty()
                        let num = 0;
                        response.data.forEach(item => {
                            num++  
    
                            const row = $('<tr class="text-gray-700" id="row">').append(
                                $('<td class="px-4 py-3 text-sm">').html(num),
                                $('<td class="px-4 py-3 text-sm">').text(item.company_name),
                                $('<td class="px-4 py-3 text-sm">').text(item.email),
                                $('<td class="px-4 py-3 text-sm">').text(item.phone),
                                $('<td class="px-4 py-3 text-sm">').html(
                                    `<a                        
                                        href="/ManageCompany/${item.id}/"
                                        class="bg-[#356464] text-center text-white  inline-flex items-center justify-end shrink-0 font-semibold leading-none rounded outline-none transition duration-300 ease-in-out focus:outline-0 focus:shadow focus:ring-1 focus:ring-slate-500  border border-transparent hover:bg-blue-300-hover px-5 py-0 h-8">
                                        Manage
                                    </a>`
                                ),   
                                );
                                table.append(row);
                            
                        });
                    }else{
                        $('#data-table tbody').empty()
                        alertify.error("Company not found");
                        //alertify.error("Select start_date and end_date")
                    }
                },
                error: function(error) {
                    // Handle the error
                    console.log('error')
                }
            });
            }

            
        })
</script>

   

{% endblock home %}
      
  
